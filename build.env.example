# Build-time configuration (Dockerfile ARGs)
# Copy to `build.env` if you want, then export vars before building.
#
# Notes:
# - These variables only affect image builds (Dockerfile `ARG`), not runtime.
# - They are NOT read by `docker-compose.yml` in this repo because it uses a prebuilt image.
#
# Build examples:
# - Makefile: `make build INSTALL_GPU_STACK=1 INSTALL_INVOKE=1 INSTALL_AI_TOOLKIT=1 AI_TOOLKIT_REF=main`
# - Docker:   `docker build --build-arg INSTALL_GPU_STACK=1 --build-arg TORCH_VERSION=2.6.0 -t lora-pilot:dev .`

# ========================================
# COMPONENT INSTALLATION (0/1)
# ========================================
INSTALL_GPU_STACK=1
INSTALL_COMFY=1
INSTALL_KOHYA=1
INSTALL_INVOKE=1
INSTALL_DIFFPIPE=1
INSTALL_AI_TOOLKIT=1
INSTALL_AI_TOOLKIT_UI=1
INSTALL_COPILOT_CLI=1

# ========================================
# COPILOT CLI
# ========================================
# Optional: pin a specific Copilot CLI version (leave blank for default behavior)
COPILOT_CLI_VERSION=

# ========================================
# AI TOOLKIT
# ========================================
# Optional: git ref to checkout (branch/tag/commit). Leave blank to keep image default.
AI_TOOLKIT_REF=
# Pin diffusers used by AI Toolkit (Invoke/Toolkit compatibility)
AI_TOOLKIT_DIFFUSERS_VERSION=0.36.0

# ========================================
# VERSION PINS (GPU STACK)
# ========================================
TORCH_VERSION=2.6.0
TORCHVISION_VERSION=0.21.0
TORCHAUDIO_VERSION=2.6.0
TORCH_INDEX_URL=https://download.pytorch.org/whl/cu124

XFORMERS_VERSION=0.0.29.post3
TRANSFORMERS_VERSION=4.44.2
PEFT_VERSION=0.17.0

# ========================================
# VERSION PINS (INVOKE VENV)
# ========================================
INVOKEAI_VERSION=6.11.1
INVOKE_TORCH_VERSION=2.7.0
INVOKE_TORCHVISION_VERSION=0.22.0
INVOKE_TORCHAUDIO_VERSION=2.7.0
INVOKE_TORCH_INDEX_URL=https://download.pytorch.org/whl/cu126

# ========================================
# SYSTEM PACKAGES / TOOLS
# ========================================
CUDA_NVCC_PKG=cuda-nvcc-12-4
CROC_VERSION=10.3.1
