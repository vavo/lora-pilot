v2.2

- Added MediaPilot as a built-in ControlPilot app (single-port embed):
  - new MediaPilot tab in ControlPilot navigation
  - MediaPilot mounted under `/mediapilot` in Portal
  - MediaPilot status endpoint (`/api/mediapilot/status`)
- Added MediaPilot vendoring workflow:
  - MediaPilot source now included under `apps/MediaPilot`
  - helper sync script `scripts/vendor-mediapilot.sh`
  - upstream commit tracking via `.upstream-commit`
- Added MediaPilot bootstrap/runtime integration:
  - auto-seed MediaPilot `.env` from `.env.example` on first run
  - workspace defaults for outputs/thumbs/db (`/workspace/outputs`, `/workspace/cache`, `/workspace/config`)
  - Comfy API URL auto-filled from `COMFY_PORT`
  - optional `MEDIAPILOT_FORCE_ENV_DEFAULTS=1` to force-refresh defaults
- Made MediaPilot subpath-safe for embedded operation:
  - frontend/API/static paths updated for `/mediapilot` base path
  - MediaPilot now loads `.env` from its app directory
- Refactored MediaPilot UI for ControlPilot visual consistency:
  - ControlPilot-aligned style tokens, components, and spacing
  - synchronized light/dark mode with parent ControlPilot theme
  - moved hardcoded JS color styling to CSS theme layer
- Expanded Services section with in-app update management:
  - service version listing endpoint (`/api/services/versions`)
  - update start/status endpoints (`/api/services/{name}/update/start`, `/api/services/{name}/update/status`)
  - async update jobs with progress/status output and service restart after update
  - frontend update controls/status rows on Services cards
- Added TagPilot incremental save endpoint:
  - `/api/tagpilot/save-item` for per-item save/reset/finalize ZIP workflows
- Updated InvokeAI version pin handling:
  - new build arg `INVOKEAI_VERSION`
  - default set to `6.11.1` in Dockerfile/build env example
- Simplified branding/logo pipeline:
  - removed dark logo variants (`logodark*`)
  - switched to single transparent logo assets for Portal, ComfyUI, TrainPilot, and TagPilot
- Models page layout fixes:
  - model cards now keep consistent width regardless of installed count
  - model install path row no longer overflows card borders

v2.0

- Added AI Toolkit (ostris/ai-toolkit) as a built-in, first-class trainer (UI on port 8675, managed by Supervisor).
- Complete redesign + refactor of ControlPilot:
  - unified visual system (buttons, cards, modals, spacing, states)
  - cleaner Services/Models/Datasets/TrainPilot flows
  - improved dashboard structure and shutdown scheduler UX
- Added GitHub Copilot integration via sidecar + SDK-style API bridge:
  - Copilot service in Supervisor
  - global chat drawer in ControlPilot
  - prompt execution from UI with status + output
- AI Toolkit persistence/runtime improvements:
  - workspace-native paths for datasets/models/outputs
  - persistent SQLite DB under `/workspace/config/ai-toolkit/aitk_db.db`
- Major UX + bugfix pass across ControlPilot:
  - TrainPilot profile/steps/epoch cap logic fixed and normalized
  - model download/progress handling, service controls, and navigation polish
  - multiple reliability fixes for telemetry, logs, and startup behavior
  - added switch to Services to choose whether the service should be started automatically or not

Version 1.99

- Added ComfyUI-Downloader custom node to the image and workspace install path.
- ComfyUI user assets now mirror into the frontend static root to prevent 404s for user.css/userdata/templates.
- TrainPilot shows a real progress bar parsed from Kohya step logs (status no longer echoes raw log line).
- Headless TrainPilot stability fixes: corrected SRC_PATH/TRAIN_DIR logging and unbound variable crash.
- Models page redesign with card layout, inline filters, and click-to-copy model paths with truncation.
- New models added to models.manifest
- Docs section now renders markdown
- Changelog added to Docs

Version 1.9

- ControlPilot shutdown scheduler defaults to safe stop for local storage; remove/delete requires explicit RUNPOD_POD_SHUTDOWN=remove or RUNPOD_VOLUME_TYPE=network.
- Jupyter allow-origin defaults to RunPod proxy + localhost/127.0.0.1; add more with JUPYTER_ALLOW_ORIGIN_PAT.
- ControlPilot model sizing/deletes fixed for hf_repo and nested hf_file paths.
- modelsgui now honors /workspace/config/models.manifest when present.
- Fixed ComfyUI proxy httpx import issue - moved to module-level imports for localhost compatibility.
- TrainPilot log reader now scans /workspace/outputs/*/_logs/train.log for Kohya output.
- Added universal deployment support for ComfyUI live preview (RunPod + localhost).
- Fixed mixed content issues in ComfyUI integration for both environments.
- Major architectural refactor: Extracted services into modular structure (comfy.py, models.py, shutdown.py).
- Added comprehensive Docker Compose setup for local development with GPU/CPU/Dev modes.
- Added docker-compose-helper.sh script for easy container management.
- Added environment variable configuration (.env.example) for customization.
- Added health checks for local deployment and documented Compose resource-limit caveats.

Version 1.8

- updated InvokeAI to 6.10.0
- several UX fixes and improvements in Control Pilot
- addressed several critical security issues
- added shutdown scheduler to ControlPilot (schedule shutdown in X minutes/hours/days in Dashboard); supports pod with local storage, network volumes and local docker images. In order for shutdown schedule to work with pods using network volumes, env variable RUNPOD_VOLUME_TYPE must be set to "network" (RUNPOD_VOLUME_TYPE=network). 
!!!WARNING!!! Setting RUNPOD_VOLUME_TYPE to "network" will cause the pod to terminate (delete) when the shutdown schedule is triggered. Use only with pods with mounted network volumes.
