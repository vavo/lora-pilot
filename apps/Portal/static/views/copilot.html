<style>
  #copilot-prompt {
    background: rgba(255, 90, 62, 0.14);
    border-color: rgba(255, 90, 62, 0.45);
  }
  :root[data-theme="dark"] #copilot-prompt {
    background: rgba(255, 122, 61, 0.18);
    border-color: rgba(255, 122, 61, 0.48);
  }
</style>
<div class="card">
  <h2>Copilot</h2>
  <div class="status" id="copilot-status">Loading...</div>
  <div class="row wrap gap-8 mt-8">
    <input id="copilot-token" class="input w-320" type="password" placeholder="GitHub token (COPILOT_GITHUB_TOKEN)" />
    <button class="btn primary" id="copilot-save-token">Save token</button>
    <button class="btn secondary" id="copilot-clear-token">Clear token</button>
    <span class="status" id="copilot-token-status"></span>
  </div>
  <div class="tip mt-8">
    This uses the container-local <code>copilot</code> CLI with <code>--allow-all-tools</code>.
    Treat it like a terminal with opinions.
  </div>
  <div class="row wrap gap-8 mt-12">
    <button class="btn primary" id="copilot-refresh">Refresh status</button>
    <button class="btn secondary" id="copilot-start">Start sidecar</button>
  </div>
</div>

<div class="card">
  <h3>Prompt</h3>
  <textarea id="copilot-prompt" class="input" rows="6"></textarea>
  <div class="row wrap gap-8 mt-10">
    <button class="btn primary" id="copilot-send">Run</button>
    <label class="status status-check">
      <input type="checkbox" id="copilot-allow-urls" />
      allow all URLs
    </label>
    <span class="status is-hidden" id="copilot-running">Runningâ€¦</span>
  </div>
  <div class="tip mt-8">
    Save token here and Copilot sidecar will restart with auth loaded from <code>/workspace/config/secrets.env</code>.
  </div>
</div>

<div class="card">
  <h3>Output</h3>
  <pre id="copilot-output" class="log-box mono"></pre>
</div>
